language: cpp

matrix:
    include:
        - os: osx
          env:
            - TARGET=osx.release
            - MK_TARGET=test
        - os: osx
          env:
            - TARGET=osx.release
            - LUAVM=luajit
            - MK_TARGET=test
        - os: osx
          env:
            - TARGET=ios.release
            - MK_TARGET=default
        - os: linux
          env:
            - TARGET=linux64.release
            - MK_TARGET=test
        - os: linux
          env:
            - TARGET=linux64.release
            - LUAVM=luajit
            - MK_TARGET=test
        - os: linux
          env:
            - TARGET=linux64.release
            - LUAVM=lua52
            - MK_TARGET=test
        
script: make $MK_TARGET
